---
title: ES6ä¸­çš„æ•°ç»„å»é‡
date: 2018-06-20 13:17:35
tags:
---

## filter & indexOf

ES5 ä¸­å¸¸ç”¨æ•°ç»„å»é‡æ–¹æ³•å¦‚ä¸‹ï¼š

```javascript
var array = ['ğŸ¶', 'many', 'ğŸ¶', 'puppies', 'ğŸ¶', 'ğŸ¶'];
var newArray = array.filter(function (item, index) {
    return array.indexOf(item) === index;
});
// newArray: ["ğŸ¶", "many", "puppies"]
```

## reduce & includes

åœ¨ ES6 ä¸­ï¼ŒArray.prototype ä¸Šæ–°å¢äº† includes æ–¹æ³•ï¼Œæ¥å—ä»»æ„ç±»å‹çš„å€¼ä¸ºå‚æ•°å¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ç”¨æ¥è¡¨ç¤ºæ•°ç»„æ˜¯å¦åŒ…å«æŸå…ƒç´ ã€‚å› æ­¤ï¼Œå»é‡çš„æ–¹æ³•å¯ä»¥æ”¹é€ å¦‚ä¸‹ï¼š

```javascript
const array = ['ğŸ¶', 'many', 'ğŸ¶', 'puppies', 'ğŸ¶', 'ğŸ¶'];
const newArray = array.reduce(function (accu, item) {
    return accu.includes(item) ? accu : [...accu, item];
}, []);
```

## Set ç±»å‹

ç±»å‹ä¸Šçš„å˜åŒ–æ˜¯ ES6 çš„ä¸»è¦æ”¹åŠ¨ä¹‹ä¸€ï¼Œå…¶ä¸­æ–°å¢çš„é›†åˆç±»å‹ Set å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´ç®€å•çš„è¿›è¡Œæ•°ç»„å»é‡ã€‚å¦‚ä¸‹ï¼š

```javascript
const array = ['ğŸ¶', 'many', 'ğŸ¶', 'puppies', 'ğŸ¶', 'ğŸ¶'];

const newArray = [...new Set(array)];
// ç­‰åŒäº const newArray = Array.from(new Set(array));
```

Set ç±»å‹å¯ä»¥ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œå½“è¿­ä»£å¯¹è±¡ä¸­åŒ…å«é‡å¤å€¼æ—¶ï¼Œset ä¼šè‡ªåŠ¨è¿›è¡Œå»é‡ã€‚å› æ­¤`new Set(array)`çš„ç»“æœæ˜¯ä¸€ä¸ªå·²ç»å»é‡çš„ set é›†åˆã€‚ç”±äº Set ç±»å‹æ˜¯å¯è¿­ä»£çš„ï¼Œå› æ­¤å¯ä»¥ä¾¿æ·çš„ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦å¯¹å…¶è¿›è¡Œæ‰©å±•ç”¨äºç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„å»é‡æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¾‹ä¸­çš„`newArray`ã€‚

æ­¤å¤–ï¼ŒES6 ä¸­è¿˜ä¸ºå…¨å±€æ„é€ å‡½æ•° Array å¢åŠ äº†ä¸€ä¸ªæ–°æ–¹æ³•ï¼šArray.fromï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å…¶è¿­ä»£å€¼çš„æ•°ç»„ã€‚å› æ­¤ï¼Œå¯ä»¥ç”¨ from æ–¹æ³•æ›¿ä»£æ‰©å±•æ“ä½œç¬¦æ¥ç”Ÿæˆå»é‡æ•°ç»„ã€‚
